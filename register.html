<!DOCTYPE html>
<html lang="en">
  <head>  
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <style> 
      h1 {text-align:center;}
    </style>
    <title>Register to TIdDLe</title>

    <!-- Bootstrap Latest compiled and minified CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
    
    
    <script src="https://www.gstatic.com/firebasejs/5.8.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/5.8.0/firebase-firestore.js"></script>
    <script>
    // Initialize Firebase
    var config = {
      apiKey: "AIzaSyDZ6K93Wsh128lcUD_gdtp7ZW_Wv5lnloE",
      authDomain: "tiddle-list.firebaseapp.com",
      databaseURL: "https://tiddle-list.firebaseio.com",
      projectId: "tiddle-list",
      storageBucket: "tiddle-list.appspot.com",
      messagingSenderId: "118752120873"
    };
    firebase.initializeApp(config);
    // Get a reference to the database service
    var database = firebase.firestore();
    //push user data
    function saveToFirebase() {
      //alert("entered email: " + document.getElementById("inputEmail").value);
      console.log("Trying to save in Firebase: ", document.getElementById("inputEmail").value);
      database.collection("users").add({
          email: document.getElementById("inputEmail").value,
          name: document.getElementById("name").value,
          institution: document.getElementById("Institution").value
      })
      .then(function(docRef) {
        console.log("Document written with ID: ", docRef.id);
      })
      .catch(function(error) {
        console.error("Error adding document: ", error);
      });
      }
  </script>
 
  </head>

  
  <body>
  <div class="container" style="width:500px;padding:20px;">
    <h1>
      TIdDLe registration form
    </h1>
    
   <form class="form-signin" onsubmit="saveToFirebase()">
     <h3 class="form-signin-heading">Fill form below to register</h3>
     You will be included in our mailing list for events and announcements.
     Your name, email address and interest keywords will be listed on our website.
     <br><br>
     <label for="inputEmail" class="sr-only">Email address</label>
     <input type="email" id="inputEmail" class="form-control" placeholder="Email address" autofocus>
     <br>
     <label for="name" class="sr-only">Name: First Last</label>
     <input type="name" id="name" class="form-control" placeholder="Name: First Last">
     <br>
     <label for="Institution" class="sr-only">Institution</label>
     <input type="Institution" id="Institution" class="form-control" placeholder="Institution">
     <br>
     <button class="btn btn-lg btn-primary btn-block" type="submit">Register</button>
    </form>
    
  </div> <!-- /container -->



  </body>
</html>
